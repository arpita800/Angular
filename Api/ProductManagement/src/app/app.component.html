<!-- app.component.html -->

<div class="nav">
  <h1>{{ title }}</h1>
</div>

<!-- Product Form -->
<div class="section">
  <h2>{{ isEdit ? 'Edit Product' : 'Add Product' }}</h2>
  <div class="form">
    <form>
      <div class="row">
        <label for="productName">Product Name</label>
        <input type="text" id="productName" [(ngModel)]="product.productName" name="productName">
      </div>
      <div class="row">
        <label for="categoryId">Category ID</label>
        <input type="number" id="categoryId" [(ngModel)]="product.categoryId" name="categoryId">
      </div>
      <div class="row">
        <label for="supplierId">Supplier ID</label>
        <input type="number" id="supplierId" [(ngModel)]="product.supplierId" name="supplierId">
      </div>
      <button type="button" (click)="isEdit ? updateProduct() : addNewProduct()">
        {{ isEdit ? 'Update Product' : 'Add Product' }}
      </button>
    </form>
  </div>
</div>

<!-- Product List -->
<div class="section">
  <h2>Product List</h2>
  <div class="list">
    <ul>
      <li *ngFor="let prod of products; trackBy: trackByFn">
        {{ prod.productName }} - Category: {{ prod.categoryId }} - Supplier: {{ prod.supplierId }}
        <button (click)="editProduct(prod)">Edit</button>
        <button (click)="deleteProduct(prod.productId)">Delete</button>
        <button (click)="viewProduct(prod)">View</button>
      </li>
    </ul>
  </div>
</div>

<div class="details"> 
  <h4>Product Details</h4>
  @if (selectedProduct) { 
  <p>Product Name: {{ selectedProduct.productName }}</p>
  <p>Category ID: {{ selectedProduct.categoryId }}</p>
  <p>Supplier ID: {{ selectedProduct.supplierId }}</p>
  <button (click)="closeView()">Close</button>
  }</div>
